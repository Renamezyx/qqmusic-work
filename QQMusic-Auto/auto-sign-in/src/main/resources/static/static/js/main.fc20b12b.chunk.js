(this["webpackJsonpauto-sign-in-web"]=this["webpackJsonpauto-sign-in-web"]||[]).push([[0],{30:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),i=a(19),r=a.n(i),c=(a(29),a(30),a(20)),o=a(21),l=a(6),u=a(23),d=a(22),h=a(8),j=a.n(h),p=a(57),v=a(58),b=a(1),m=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var s;Object(c.a)(this,a),s=t.call(this,e);var n=localStorage.getItem("formdata-state");return s.state=n?JSON.parse(n):{date:"",type:"",username:"",password:"",tasks:[],chromeDriverLocation:""},s.insertPlan=s.insertPlan.bind(Object(l.a)(s)),s.bindType=s.bindType.bind(Object(l.a)(s)),s.flushPlanInfo=s.flushPlanInfo.bind(Object(l.a)(s)),s.saveState=s.saveState.bind(Object(l.a)(s)),s}return Object(o.a)(a,[{key:"flushPlanInfo",value:function(){var e=this;j.a.get("/api/tasks").then((function(t){e.setState({tasks:t.data})}))}},{key:"deletePlan",value:function(e){var t=this;console.log("uuid: ["+e+"]"),j.a.delete("/api/tasks/"+e).then((function(e){t.flushPlanInfo(),alert(e.data.message)}))}},{key:"render",value:function(){var e=this,t=this.state.tasks.map((function(t){return Object(b.jsxs)("div",{className:"pt-1",children:[t.uuid," ",t.remark," ",t.startTime,"\xa0\xa0",Object(b.jsx)(p.a,{size:"sm",onClick:function(){e.deletePlan(t.uuid)},children:"\u5220\u9664\u8ba1\u5212"})]},t.uuid)}));return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"\u5df2\u6709\u8ba1\u5212\uff1a"}),t,Object(b.jsx)("div",{}),Object(b.jsx)("div",{children:Object(b.jsx)(p.a,{onClick:this.flushPlanInfo,children:"\u5237\u65b0\u8ba1\u5212\u4fe1\u606f"})}),Object(b.jsx)("div",{className:"pt-2",children:Object(b.jsx)(v.a,{type:"text",placeholder:"\u6267\u884c\u65f6\u95f4 yyyy-MM-dd HH:mm",value:this.state.date,onChange:function(t){e.setState({date:t.target.value})}})}),Object(b.jsx)("div",{className:"pt-1",children:Object(b.jsx)(v.a,{type:"text",placeholder:"\u7528\u6237\u540d",value:this.state.username,onChange:function(t){e.setState({username:t.target.value})}})}),Object(b.jsx)("div",{className:"pt-1",children:Object(b.jsx)(v.a,{type:"text",placeholder:"\u5bc6\u7801",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}})}),Object(b.jsx)("div",{className:"pt-1",children:Object(b.jsx)(v.a,{type:"text",placeholder:"Chromedriver\u9a71\u52a8\u5730\u5740",value:this.state.chromeDriverLocation,onChange:function(t){e.setState({chromeDriverLocation:t.target.value})}})}),Object(b.jsxs)("div",{className:"p-2",children:[Object(b.jsx)("input",{type:"radio",value:"signIn",onChange:this.bindType,name:"type"}),"\xa0\u7b7e\u5165 \xa0\xa0",Object(b.jsx)("input",{type:"radio",value:"signOut",onChange:this.bindType,name:"type"}),"\xa0\u7b7e\u51fa"]}),Object(b.jsx)("div",{children:Object(b.jsx)(p.a,{onClick:this.insertPlan,children:"\u6dfb\u52a0\u4efb\u52a1"})})]})}},{key:"saveState",value:function(){localStorage.setItem("formdata-state",JSON.stringify({date:"",type:this.state.type,username:this.state.username,password:this.state.password,tasks:[],chromeDriverLocation:this.state.chromeDriverLocation}))}},{key:"bindType",value:function(e){console.log("set type: ["+e.target.value+"]"),this.setState({type:e.target.value})}},{key:"insertPlan",value:function(){if(!this.state.type)return alert("\u4f60\u8fd8\u6ca1\u6709\u9009\u62e9\u8ba1\u5212\u7c7b\u578b"),!1;this.saveState(),j.a.post("/api/plans",{date:this.state.date,type:this.state.type,username:this.state.username,password:this.state.password,chromeDriverLocation:this.state.chromeDriverLocation}).then((function(e){alert(e.data.message)}))}}]),a}(n.a.Component),f=a(56);var O=function(){return Object(b.jsx)(f.a,{children:Object(b.jsx)(m,{})})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,59)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),i(e),r(e)}))};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),y()}},[[55,1,2]]]);
//# sourceMappingURL=main.fc20b12b.chunk.js.map